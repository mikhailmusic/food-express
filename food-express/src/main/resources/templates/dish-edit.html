<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head}"></head>
<body>
<header th:replace="~{fragments/header}"></header>
<main>
    <div class="container p-3 col-md-4">
        <h2 class="mb-2 fw-light text-center">Изменение информации</h2>
        <form th:action="@{/admin/dishes/{id}/edit(id=${form.id})}" th:object="${form}" th:method="post">
            <input th:field="*{id}" type="hidden" id="id" class="form-control text-center"/>
            <div class="mb-2">
                <label for="name" class="form-label">Название</label>
                <input th:field="*{name}" th:errorclass="is-invalid" type="text" class="form-control" id="name">
                <small th:if="${#fields.hasErrors('name')}"
                       th:errors="*{name}"
                       class="text-danger">Error message</small>

            </div>
            <div class="mb-2">
                <label for="description" class="form-label">Описание</label>
                <textarea th:field="*{description}" th:errorclass="is-invalid" class="form-control" id="description" rows="2"></textarea>
                <small th:if="${#fields.hasErrors('description')}"
                       th:errors="*{description}"
                       class="text-danger">Error message</small>
            </div>

            <div class="row mb-2">
                <div class="col-md-4">
                    <label for="price" class="form-label">Цена</label>
                    <input th:field="*{price}" th:errorclass="is-invalid" type="number" class="form-control" id="price" min="1" step="0.01">
                    <small th:if="${#fields.hasErrors('price')}" th:errors="*{price}" class="text-danger">Error message</small>
                </div>
                <div class="col-md-4">
                    <label for="weight" class="form-label">Вес (граммы)</label>
                    <input th:field="*{weight}" th:errorclass="is-invalid" type="number" class="form-control" id="weight" min="1" step="1">
                    <small th:if="${#fields.hasErrors('weight')}" th:errors="*{weight}" class="text-danger">Error message</small>
                </div>
                <div class="col-md-4">
                    <label for="calories" class="form-label">Калории</label>
                    <input th:field="*{calories}" th:errorclass="is-invalid" type="number" class="form-control" id="calories" min="1" step="1">
                    <small th:if="${#fields.hasErrors('calories')}" th:errors="*{calories}" class="text-danger">Error message</small>
                </div>
            </div>


            <div class="mb-2">
                <label for="imageURL" class="form-label">Картинка (URL)</label>
                <input th:field="*{imageURL}" th:errorclass="is-invalid" type="text" class="form-control" id="imageURL">
                <small th:if="${#fields.hasErrors('imageURL')}"
                       th:errors="*{imageURL}"
                       class="text-danger">Error message</small>
            </div>

            <div class="mb-2">
                <label for="category" class="form-label">Категория</label>
                <select th:field="*{categoryId}" id="category" class="form-control" multiple>
                    <option value="" selected disabled>Выберите категорию</option>
                    <option th:each="category : ${model.categories}"
                            th:value="${category.id}"
                            th:text="${category.name}"></option>
                </select>
                <small th:if="${#fields.hasErrors('categoryId')}"
                       th:errors="*{categoryId}"
                       class="text-danger">Error message</small>
            </div>

            <div class="mb-2">
                <label for="isVisible" class="form-label">Видимость блюда:</label>
                <select th:field="*{isVisible}" id="isVisible" class="form-select">
                    <option value="true">Видимо</option>
                    <option value="false">Невидимо</option>
                </select>
                <small th:if="${#fields.hasErrors('isVisible')}"
                       th:errors="*{isVisible}"
                       class="text-danger">Error message</small>

            </div>

            <div class="text-center my-4">
                <button type="submit" class="btn btn-secondary">Изменить блюдо</button>
            </div>
        </form>
    </div>
</main>
<footer th:replace="~{fragments/footer}"></footer>
</body>
</html>
